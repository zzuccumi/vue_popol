{"remainingRequest":"/Users/kyubin.kim/Documents/vue_popol/node_modules/babel-loader/lib/index.js!/Users/kyubin.kim/Documents/vue_popol/node_modules/vuetify/lib/components/VTreeview/VTreeview.js","dependencies":[{"path":"/Users/kyubin.kim/Documents/vue_popol/node_modules/vuetify/lib/components/VTreeview/VTreeview.js","mtime":1656833934513},{"path":"/Users/kyubin.kim/Documents/vue_popol/babel.config.js","mtime":1656564358000},{"path":"/Users/kyubin.kim/Documents/vue_popol/node_modules/cache-loader/dist/cjs.js","mtime":1637045138950},{"path":"/Users/kyubin.kim/Documents/vue_popol/node_modules/babel-loader/lib/index.js","mtime":1638854831883}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9reXViaW4ua2ltL0RvY3VtZW50cy92dWVfcG9wb2wvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL1VzZXJzL2t5dWJpbi5raW0vRG9jdW1lbnRzL3Z1ZV9wb3BvbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL2t5dWJpbi5raW0vRG9jdW1lbnRzL3Z1ZV9wb3BvbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMva3l1YmluLmtpbS9Eb2N1bWVudHMvdnVlX3BvcG9sL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLmJpbmQuanMiOwovLyBTdHlsZXMKaW1wb3J0ICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WVHJlZXZpZXcvVlRyZWV2aWV3LnNhc3MiOyAvLyBDb21wb25lbnRzCgppbXBvcnQgVlRyZWV2aWV3Tm9kZSwgeyBWVHJlZXZpZXdOb2RlUHJvcHMgfSBmcm9tICcuL1ZUcmVldmlld05vZGUnOyAvLyBNaXhpbnMKCmltcG9ydCBUaGVtZWFibGUgZnJvbSAnLi4vLi4vbWl4aW5zL3RoZW1lYWJsZSc7CmltcG9ydCB7IHByb3ZpZGUgYXMgUmVnaXN0cmFibGVQcm92aWRlIH0gZnJvbSAnLi4vLi4vbWl4aW5zL3JlZ2lzdHJhYmxlJzsgLy8gVXRpbHMKCmltcG9ydCB7IGFycmF5RGlmZiwgZGVlcEVxdWFsLCBnZXRPYmplY3RWYWx1ZUJ5UGF0aCB9IGZyb20gJy4uLy4uL3V0aWwvaGVscGVycyc7CmltcG9ydCBtaXhpbnMgZnJvbSAnLi4vLi4vdXRpbC9taXhpbnMnOwppbXBvcnQgeyBjb25zb2xlV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvY29uc29sZSc7CmltcG9ydCB7IGZpbHRlclRyZWVJdGVtcywgZmlsdGVyVHJlZUl0ZW0gfSBmcm9tICcuL3V0aWwvZmlsdGVyVHJlZUl0ZW1zJzsKZXhwb3J0IGRlZmF1bHQgbWl4aW5zKFJlZ2lzdHJhYmxlUHJvdmlkZSgndHJlZXZpZXcnKSwgVGhlbWVhYmxlCi8qIEB2dWUvY29tcG9uZW50ICovCikuZXh0ZW5kKHsKICBuYW1lOiAndi10cmVldmlldycsCiAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyZWV2aWV3OiB0aGlzCiAgICB9OwogIH0sCiAgcHJvcHM6IF9vYmplY3RTcHJlYWQoewogICAgYWN0aXZlOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGRlbnNlOiBCb29sZWFuLAogICAgZGlzYWJsZWQ6IEJvb2xlYW4sCiAgICBmaWx0ZXI6IEZ1bmN0aW9uLAogICAgaG92ZXJhYmxlOiBCb29sZWFuLAogICAgaXRlbXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgbXVsdGlwbGVBY3RpdmU6IEJvb2xlYW4sCiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICAiZGVmYXVsdCI6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIG9wZW5BbGw6IEJvb2xlYW4sCiAgICByZXR1cm5PYmplY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgImRlZmF1bHQiOiBmYWxzZQogICAgfSwKICAgIHNlYXJjaDogU3RyaW5nLAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgICJkZWZhdWx0IjogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwgVlRyZWV2aWV3Tm9kZVByb3BzKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGV2ZWw6IC0xLAogICAgICBhY3RpdmVDYWNoZTogbmV3IFNldCgpLAogICAgICBub2Rlczoge30sCiAgICAgIG9wZW5DYWNoZTogbmV3IFNldCgpLAogICAgICBzZWxlY3RlZENhY2hlOiBuZXcgU2V0KCkKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZXhjbHVkZWRJdGVtczogZnVuY3Rpb24gZXhjbHVkZWRJdGVtcygpIHsKICAgICAgdmFyIGV4Y2x1ZGVkID0gbmV3IFNldCgpOwogICAgICBpZiAoIXRoaXMuc2VhcmNoKSByZXR1cm4gZXhjbHVkZWQ7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBmaWx0ZXJUcmVlSXRlbXModGhpcy5maWx0ZXIgfHwgZmlsdGVyVHJlZUl0ZW0sIHRoaXMuaXRlbXNbaV0sIHRoaXMuc2VhcmNoLCB0aGlzLml0ZW1LZXksIHRoaXMuaXRlbVRleHQsIHRoaXMuaXRlbUNoaWxkcmVuLCBleGNsdWRlZCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBleGNsdWRlZDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpdGVtczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciBvbGRLZXlzID0gT2JqZWN0LmtleXModGhpcy5ub2RlcykubWFwKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICByZXR1cm4gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoX3RoaXMubm9kZXNba10uaXRlbSwgX3RoaXMuaXRlbUtleSk7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIG5ld0tleXMgPSB0aGlzLmdldEtleXModGhpcy5pdGVtcyk7CiAgICAgICAgdmFyIGRpZmYgPSBhcnJheURpZmYobmV3S2V5cywgb2xkS2V5cyk7IC8vIFdlIG9ubHkgd2FudCB0byBkbyBzdHVmZiBpZiBpdGVtcyBoYXZlIGNoYW5nZWQKCiAgICAgICAgaWYgKCFkaWZmLmxlbmd0aCAmJiBuZXdLZXlzLmxlbmd0aCA8IG9sZEtleXMubGVuZ3RoKSByZXR1cm47IC8vIElmIG5vZGVzIGFyZSByZW1vdmVkIHdlIG5lZWQgdG8gY2xlYXIgdGhlbSBmcm9tIHRoaXMubm9kZXMKCiAgICAgICAgZGlmZi5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgICByZXR1cm4gZGVsZXRlIF90aGlzLm5vZGVzW2tdOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgb2xkU2VsZWN0ZWRDYWNoZSA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnNlbGVjdGVkQ2FjaGUpOwoKICAgICAgICB0aGlzLnNlbGVjdGVkQ2FjaGUgPSBuZXcgU2V0KCk7CiAgICAgICAgdGhpcy5hY3RpdmVDYWNoZSA9IG5ldyBTZXQoKTsKICAgICAgICB0aGlzLm9wZW5DYWNoZSA9IG5ldyBTZXQoKTsKICAgICAgICB0aGlzLmJ1aWxkVHJlZSh0aGlzLml0ZW1zKTsgLy8gT25seSBlbWl0IHNlbGVjdGVkIGlmIHNlbGVjdGlvbiBoYXMgY2hhbmdlZAogICAgICAgIC8vIGFzIGEgcmVzdWx0IG9mIGl0ZW1zIGNoYW5naW5nLiBUaGlzIGZpeGVzIGEKICAgICAgICAvLyBwb3RlbnRpYWwgZG91YmxlIGVtaXQgd2hlbiBzZWxlY3RpbmcgYSBub2RlCiAgICAgICAgLy8gd2l0aCBkeW5hbWljIGNoaWxkcmVuCgogICAgICAgIGlmICghZGVlcEVxdWFsKG9sZFNlbGVjdGVkQ2FjaGUsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLnNlbGVjdGVkQ2FjaGUpKSkgdGhpcy5lbWl0U2VsZWN0ZWQoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIGFjdGl2ZTogZnVuY3Rpb24gYWN0aXZlKHZhbHVlKSB7CiAgICAgIHRoaXMuaGFuZGxlTm9kZUNhY2hlV2F0Y2hlcih2YWx1ZSwgdGhpcy5hY3RpdmVDYWNoZSwgdGhpcy51cGRhdGVBY3RpdmUsIHRoaXMuZW1pdEFjdGl2ZSk7CiAgICB9LAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKF92YWx1ZSkgewogICAgICB0aGlzLmhhbmRsZU5vZGVDYWNoZVdhdGNoZXIoX3ZhbHVlLCB0aGlzLnNlbGVjdGVkQ2FjaGUsIHRoaXMudXBkYXRlU2VsZWN0ZWQsIHRoaXMuZW1pdFNlbGVjdGVkKTsKICAgIH0sCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKHZhbHVlKSB7CiAgICAgIHRoaXMuaGFuZGxlTm9kZUNhY2hlV2F0Y2hlcih2YWx1ZSwgdGhpcy5vcGVuQ2FjaGUsIHRoaXMudXBkYXRlT3BlbiwgdGhpcy5lbWl0T3Blbik7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdmFyIGdldFZhbHVlID0gZnVuY3Rpb24gZ2V0VmFsdWUoa2V5KSB7CiAgICAgIHJldHVybiBfdGhpczIucmV0dXJuT2JqZWN0ID8gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoa2V5LCBfdGhpczIuaXRlbUtleSkgOiBrZXk7CiAgICB9OwoKICAgIHRoaXMuYnVpbGRUcmVlKHRoaXMuaXRlbXMpOwoKICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnZhbHVlLm1hcChnZXRWYWx1ZSkpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZCh2YWx1ZSwgdHJ1ZSwgdHJ1ZSk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KCiAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuYWN0aXZlLm1hcChnZXRWYWx1ZSkpLAogICAgICAgIF9zdGVwMjsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgIHZhciBhY3RpdmUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmUoYWN0aXZlLCB0cnVlKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgLy8gU2F2ZSB0aGUgZGV2ZWxvcGVyIGZyb20gdGhlbXNlbHZlcwogICAgaWYgKHRoaXMuJHNsb3RzLnByZXBlbmQgfHwgdGhpcy4kc2xvdHMuYXBwZW5kKSB7CiAgICAgIGNvbnNvbGVXYXJuKCdUaGUgcHJlcGVuZCBhbmQgYXBwZW5kIHNsb3RzIHJlcXVpcmUgYSBzbG90LXNjb3BlIGF0dHJpYnV0ZScsIHRoaXMpOwogICAgfQoKICAgIGlmICh0aGlzLm9wZW5BbGwpIHsKICAgICAgdGhpcy51cGRhdGVBbGwodHJ1ZSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm9wZW4uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy51cGRhdGVPcGVuKF90aGlzMy5yZXR1cm5PYmplY3QgPyBnZXRPYmplY3RWYWx1ZUJ5UGF0aChrZXksIF90aGlzMy5pdGVtS2V5KSA6IGtleSwgdHJ1ZSk7CiAgICAgIH0pOwogICAgICB0aGlzLmVtaXRPcGVuKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiogQHB1YmxpYyAqLwogICAgdXBkYXRlQWxsOiBmdW5jdGlvbiB1cGRhdGVBbGwodmFsdWUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBPYmplY3Qua2V5cyh0aGlzLm5vZGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LnVwZGF0ZU9wZW4oZ2V0T2JqZWN0VmFsdWVCeVBhdGgoX3RoaXM0Lm5vZGVzW2tleV0uaXRlbSwgX3RoaXM0Lml0ZW1LZXkpLCB2YWx1ZSk7CiAgICAgIH0pOwogICAgICB0aGlzLmVtaXRPcGVuKCk7CiAgICB9LAogICAgZ2V0S2V5czogZnVuY3Rpb24gZ2V0S2V5cyhpdGVtcykgewogICAgICB2YXIga2V5cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGtleSA9IGdldE9iamVjdFZhbHVlQnlQYXRoKGl0ZW1zW2ldLCB0aGlzLml0ZW1LZXkpOwogICAgICAgIGtleXMucHVzaChrZXkpOwogICAgICAgIHZhciBjaGlsZHJlbiA9IGdldE9iamVjdFZhbHVlQnlQYXRoKGl0ZW1zW2ldLCB0aGlzLml0ZW1DaGlsZHJlbik7CgogICAgICAgIGlmIChjaGlsZHJlbikgewogICAgICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmdldEtleXMoY2hpbGRyZW4pKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4ga2V5czsKICAgIH0sCiAgICBidWlsZFRyZWU6IGZ1bmN0aW9uIGJ1aWxkVHJlZShpdGVtcykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIF9nZXRPYmplY3RWYWx1ZUJ5UGF0aDsKCiAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTsKICAgICAgICB2YXIga2V5ID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgdGhpcy5pdGVtS2V5KTsKICAgICAgICB2YXIgY2hpbGRyZW4gPSAoX2dldE9iamVjdFZhbHVlQnlQYXRoID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgdGhpcy5pdGVtQ2hpbGRyZW4pKSAhPSBudWxsID8gX2dldE9iamVjdFZhbHVlQnlQYXRoIDogW107CiAgICAgICAgdmFyIG9sZE5vZGUgPSB0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkgPyB0aGlzLm5vZGVzW2tleV0gOiB7CiAgICAgICAgICBpc1NlbGVjdGVkOiBmYWxzZSwKICAgICAgICAgIGlzSW5kZXRlcm1pbmF0ZTogZmFsc2UsCiAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgICAgICBpc09wZW46IGZhbHNlLAogICAgICAgICAgdm5vZGU6IG51bGwKICAgICAgICB9OwogICAgICAgIHZhciBub2RlID0gewogICAgICAgICAgdm5vZGU6IG9sZE5vZGUudm5vZGUsCiAgICAgICAgICBwYXJlbnQ6IHBhcmVudCwKICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgcmV0dXJuIGdldE9iamVjdFZhbHVlQnlQYXRoKGMsIF90aGlzNS5pdGVtS2V5KTsKICAgICAgICAgIH0pLAogICAgICAgICAgaXRlbTogaXRlbQogICAgICAgIH07CiAgICAgICAgdGhpcy5idWlsZFRyZWUoY2hpbGRyZW4sIGtleSk7IC8vIFRoaXMgZml4ZWQgYnVnIHdpdGggZHluYW1pYyBjaGlsZHJlbiByZXNldHRpbmcgc2VsZWN0ZWQgcGFyZW50IHN0YXRlCgogICAgICAgIGlmICh0aGlzLnNlbGVjdGlvblR5cGUgIT09ICdpbmRlcGVuZGVudCcgJiYgcGFyZW50ICE9PSBudWxsICYmICF0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkgJiYgdGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShwYXJlbnQpKSB7CiAgICAgICAgICBub2RlLmlzU2VsZWN0ZWQgPSB0aGlzLm5vZGVzW3BhcmVudF0uaXNTZWxlY3RlZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbm9kZS5pc1NlbGVjdGVkID0gb2xkTm9kZS5pc1NlbGVjdGVkOwogICAgICAgICAgbm9kZS5pc0luZGV0ZXJtaW5hdGUgPSBvbGROb2RlLmlzSW5kZXRlcm1pbmF0ZTsKICAgICAgICB9CgogICAgICAgIG5vZGUuaXNBY3RpdmUgPSBvbGROb2RlLmlzQWN0aXZlOwogICAgICAgIG5vZGUuaXNPcGVuID0gb2xkTm9kZS5pc09wZW47CiAgICAgICAgdGhpcy5ub2Rlc1trZXldID0gbm9kZTsKCiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCAmJiB0aGlzLnNlbGVjdGlvblR5cGUgIT09ICdpbmRlcGVuZGVudCcpIHsKICAgICAgICAgIHZhciBfdGhpcyRjYWxjdWxhdGVTdGF0ZSA9IHRoaXMuY2FsY3VsYXRlU3RhdGUoa2V5LCB0aGlzLm5vZGVzKSwKICAgICAgICAgICAgICBpc1NlbGVjdGVkID0gX3RoaXMkY2FsY3VsYXRlU3RhdGUuaXNTZWxlY3RlZCwKICAgICAgICAgICAgICBpc0luZGV0ZXJtaW5hdGUgPSBfdGhpcyRjYWxjdWxhdGVTdGF0ZS5pc0luZGV0ZXJtaW5hdGU7CgogICAgICAgICAgbm9kZS5pc1NlbGVjdGVkID0gaXNTZWxlY3RlZDsKICAgICAgICAgIG5vZGUuaXNJbmRldGVybWluYXRlID0gaXNJbmRldGVybWluYXRlOwogICAgICAgIH0gLy8gRG9uJ3QgZm9yZ2V0IHRvIHJlYnVpbGQgY2FjaGUKCgogICAgICAgIGlmICh0aGlzLm5vZGVzW2tleV0uaXNTZWxlY3RlZCAmJiAodGhpcy5zZWxlY3Rpb25UeXBlID09PSAnaW5kZXBlbmRlbnQnIHx8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSkgdGhpcy5zZWxlY3RlZENhY2hlLmFkZChrZXkpOwogICAgICAgIGlmICh0aGlzLm5vZGVzW2tleV0uaXNBY3RpdmUpIHRoaXMuYWN0aXZlQ2FjaGUuYWRkKGtleSk7CiAgICAgICAgaWYgKHRoaXMubm9kZXNba2V5XS5pc09wZW4pIHRoaXMub3BlbkNhY2hlLmFkZChrZXkpOwogICAgICAgIHRoaXMudXBkYXRlVm5vZGVTdGF0ZShrZXkpOwogICAgICB9CiAgICB9LAogICAgY2FsY3VsYXRlU3RhdGU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVN0YXRlKG5vZGUsIHN0YXRlKSB7CiAgICAgIHZhciBjaGlsZHJlbiA9IHN0YXRlW25vZGVdLmNoaWxkcmVuOwogICAgICB2YXIgY291bnRzID0gY2hpbGRyZW4ucmVkdWNlKGZ1bmN0aW9uIChjb3VudHMsIGNoaWxkKSB7CiAgICAgICAgY291bnRzWzBdICs9ICtCb29sZWFuKHN0YXRlW2NoaWxkXS5pc1NlbGVjdGVkKTsKICAgICAgICBjb3VudHNbMV0gKz0gK0Jvb2xlYW4oc3RhdGVbY2hpbGRdLmlzSW5kZXRlcm1pbmF0ZSk7CiAgICAgICAgcmV0dXJuIGNvdW50czsKICAgICAgfSwgWzAsIDBdKTsKICAgICAgdmFyIGlzU2VsZWN0ZWQgPSAhIWNoaWxkcmVuLmxlbmd0aCAmJiBjb3VudHNbMF0gPT09IGNoaWxkcmVuLmxlbmd0aDsKICAgICAgdmFyIGlzSW5kZXRlcm1pbmF0ZSA9ICFpc1NlbGVjdGVkICYmIChjb3VudHNbMF0gPiAwIHx8IGNvdW50c1sxXSA+IDApOwogICAgICByZXR1cm4gewogICAgICAgIGlzU2VsZWN0ZWQ6IGlzU2VsZWN0ZWQsCiAgICAgICAgaXNJbmRldGVybWluYXRlOiBpc0luZGV0ZXJtaW5hdGUKICAgICAgfTsKICAgIH0sCiAgICBlbWl0T3BlbjogZnVuY3Rpb24gZW1pdE9wZW4oKSB7CiAgICAgIHRoaXMuZW1pdE5vZGVDYWNoZSgndXBkYXRlOm9wZW4nLCB0aGlzLm9wZW5DYWNoZSk7CiAgICB9LAogICAgZW1pdFNlbGVjdGVkOiBmdW5jdGlvbiBlbWl0U2VsZWN0ZWQoKSB7CiAgICAgIHRoaXMuZW1pdE5vZGVDYWNoZSgnaW5wdXQnLCB0aGlzLnNlbGVjdGVkQ2FjaGUpOwogICAgfSwKICAgIGVtaXRBY3RpdmU6IGZ1bmN0aW9uIGVtaXRBY3RpdmUoKSB7CiAgICAgIHRoaXMuZW1pdE5vZGVDYWNoZSgndXBkYXRlOmFjdGl2ZScsIHRoaXMuYWN0aXZlQ2FjaGUpOwogICAgfSwKICAgIGVtaXROb2RlQ2FjaGU6IGZ1bmN0aW9uIGVtaXROb2RlQ2FjaGUoZXZlbnQsIGNhY2hlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdGhpcy4kZW1pdChldmVudCwgdGhpcy5yZXR1cm5PYmplY3QgPyBfdG9Db25zdW1hYmxlQXJyYXkoY2FjaGUpLm1hcChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIF90aGlzNi5ub2Rlc1trZXldLml0ZW07CiAgICAgIH0pIDogX3RvQ29uc3VtYWJsZUFycmF5KGNhY2hlKSk7CiAgICB9LAogICAgaGFuZGxlTm9kZUNhY2hlV2F0Y2hlcjogZnVuY3Rpb24gaGFuZGxlTm9kZUNhY2hlV2F0Y2hlcih2YWx1ZSwgY2FjaGUsIHVwZGF0ZUZuLCBlbWl0Rm4pIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YWx1ZSA9IHRoaXMucmV0dXJuT2JqZWN0ID8gdmFsdWUubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIGdldE9iamVjdFZhbHVlQnlQYXRoKHYsIF90aGlzNy5pdGVtS2V5KTsKICAgICAgfSkgOiB2YWx1ZTsKCiAgICAgIHZhciBvbGQgPSBfdG9Db25zdW1hYmxlQXJyYXkoY2FjaGUpOwoKICAgICAgaWYgKGRlZXBFcXVhbChvbGQsIHZhbHVlKSkgcmV0dXJuOwogICAgICBvbGQuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIHVwZGF0ZUZuKGtleSwgZmFsc2UpOwogICAgICB9KTsKICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIHVwZGF0ZUZuKGtleSwgdHJ1ZSk7CiAgICAgIH0pOwogICAgICBlbWl0Rm4oKTsKICAgIH0sCiAgICBnZXREZXNjZW5kYW50czogZnVuY3Rpb24gZ2V0RGVzY2VuZGFudHMoa2V5KSB7CiAgICAgIHZhciBfZGVzY2VuZGFudHM7CgogICAgICB2YXIgZGVzY2VuZGFudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLm5vZGVzW2tleV0uY2hpbGRyZW47CgogICAgICAoX2Rlc2NlbmRhbnRzID0gZGVzY2VuZGFudHMpLnB1c2guYXBwbHkoX2Rlc2NlbmRhbnRzLCBfdG9Db25zdW1hYmxlQXJyYXkoY2hpbGRyZW4pKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICBkZXNjZW5kYW50cyA9IHRoaXMuZ2V0RGVzY2VuZGFudHMoY2hpbGRyZW5baV0sIGRlc2NlbmRhbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRlc2NlbmRhbnRzOwogICAgfSwKICAgIGdldFBhcmVudHM6IGZ1bmN0aW9uIGdldFBhcmVudHMoa2V5KSB7CiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLm5vZGVzW2tleV0ucGFyZW50OwogICAgICB2YXIgcGFyZW50cyA9IFtdOwoKICAgICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkgewogICAgICAgIHBhcmVudHMucHVzaChwYXJlbnQpOwogICAgICAgIHBhcmVudCA9IHRoaXMubm9kZXNbcGFyZW50XS5wYXJlbnQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBwYXJlbnRzOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3Rlcihub2RlKSB7CiAgICAgIHZhciBrZXkgPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aChub2RlLml0ZW0sIHRoaXMuaXRlbUtleSk7CiAgICAgIHRoaXMubm9kZXNba2V5XS52bm9kZSA9IG5vZGU7CiAgICAgIHRoaXMudXBkYXRlVm5vZGVTdGF0ZShrZXkpOwogICAgfSwKICAgIHVucmVnaXN0ZXI6IGZ1bmN0aW9uIHVucmVnaXN0ZXIobm9kZSkgewogICAgICB2YXIga2V5ID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgobm9kZS5pdGVtLCB0aGlzLml0ZW1LZXkpOwogICAgICBpZiAodGhpcy5ub2Rlc1trZXldKSB0aGlzLm5vZGVzW2tleV0udm5vZGUgPSBudWxsOwogICAgfSwKICAgIGlzUGFyZW50OiBmdW5jdGlvbiBpc1BhcmVudChrZXkpIHsKICAgICAgcmV0dXJuIHRoaXMubm9kZXNba2V5XS5jaGlsZHJlbiAmJiB0aGlzLm5vZGVzW2tleV0uY2hpbGRyZW4ubGVuZ3RoOwogICAgfSwKICAgIHVwZGF0ZUFjdGl2ZTogZnVuY3Rpb24gdXBkYXRlQWN0aXZlKGtleSwgaXNBY3RpdmUpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMubm9kZXMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuOwoKICAgICAgaWYgKCF0aGlzLm11bHRpcGxlQWN0aXZlKSB7CiAgICAgICAgdGhpcy5hY3RpdmVDYWNoZS5mb3JFYWNoKGZ1bmN0aW9uIChhY3RpdmUpIHsKICAgICAgICAgIF90aGlzOC5ub2Rlc1thY3RpdmVdLmlzQWN0aXZlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXM4LnVwZGF0ZVZub2RlU3RhdGUoYWN0aXZlKTsKCiAgICAgICAgICBfdGhpczguYWN0aXZlQ2FjaGVbImRlbGV0ZSJdKGFjdGl2ZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBub2RlID0gdGhpcy5ub2Rlc1trZXldOwogICAgICBpZiAoIW5vZGUpIHJldHVybjsKICAgICAgaWYgKGlzQWN0aXZlKSB0aGlzLmFjdGl2ZUNhY2hlLmFkZChrZXkpO2Vsc2UgdGhpcy5hY3RpdmVDYWNoZVsiZGVsZXRlIl0oa2V5KTsKICAgICAgbm9kZS5pc0FjdGl2ZSA9IGlzQWN0aXZlOwogICAgICB0aGlzLnVwZGF0ZVZub2RlU3RhdGUoa2V5KTsKICAgIH0sCiAgICB1cGRhdGVTZWxlY3RlZDogZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWQoa2V5LCBpc1NlbGVjdGVkKSB7CiAgICAgIHZhciBpc0ZvcmNlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47CiAgICAgIHZhciBjaGFuZ2VkID0gbmV3IE1hcCgpOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uVHlwZSAhPT0gJ2luZGVwZW5kZW50JykgewogICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5nZXREZXNjZW5kYW50cyhrZXkpKSwKICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGRlc2NlbmRhbnQgPSBfc3RlcDMudmFsdWU7CgogICAgICAgICAgICBpZiAoIWdldE9iamVjdFZhbHVlQnlQYXRoKHRoaXMubm9kZXNbZGVzY2VuZGFudF0uaXRlbSwgdGhpcy5pdGVtRGlzYWJsZWQpIHx8IGlzRm9yY2VkKSB7CiAgICAgICAgICAgICAgdGhpcy5ub2Rlc1tkZXNjZW5kYW50XS5pc1NlbGVjdGVkID0gaXNTZWxlY3RlZDsKICAgICAgICAgICAgICB0aGlzLm5vZGVzW2Rlc2NlbmRhbnRdLmlzSW5kZXRlcm1pbmF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgIGNoYW5nZWQuc2V0KGRlc2NlbmRhbnQsIGlzU2VsZWN0ZWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgY2FsY3VsYXRlZCA9IHRoaXMuY2FsY3VsYXRlU3RhdGUoa2V5LCB0aGlzLm5vZGVzKTsKICAgICAgICB0aGlzLm5vZGVzW2tleV0uaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQ7CiAgICAgICAgdGhpcy5ub2Rlc1trZXldLmlzSW5kZXRlcm1pbmF0ZSA9IGNhbGN1bGF0ZWQuaXNJbmRldGVybWluYXRlOwogICAgICAgIGNoYW5nZWQuc2V0KGtleSwgaXNTZWxlY3RlZCk7CgogICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5nZXRQYXJlbnRzKGtleSkpLAogICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgcGFyZW50ID0gX3N0ZXA0LnZhbHVlOwoKICAgICAgICAgICAgdmFyIF9jYWxjdWxhdGVkID0gdGhpcy5jYWxjdWxhdGVTdGF0ZShwYXJlbnQsIHRoaXMubm9kZXMpOwoKICAgICAgICAgICAgdGhpcy5ub2Rlc1twYXJlbnRdLmlzU2VsZWN0ZWQgPSBfY2FsY3VsYXRlZC5pc1NlbGVjdGVkOwogICAgICAgICAgICB0aGlzLm5vZGVzW3BhcmVudF0uaXNJbmRldGVybWluYXRlID0gX2NhbGN1bGF0ZWQuaXNJbmRldGVybWluYXRlOwogICAgICAgICAgICBjaGFuZ2VkLnNldChwYXJlbnQsIF9jYWxjdWxhdGVkLmlzU2VsZWN0ZWQpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm5vZGVzW2tleV0uaXNTZWxlY3RlZCA9IGlzU2VsZWN0ZWQ7CiAgICAgICAgdGhpcy5ub2Rlc1trZXldLmlzSW5kZXRlcm1pbmF0ZSA9IGZhbHNlOwogICAgICAgIGNoYW5nZWQuc2V0KGtleSwgaXNTZWxlY3RlZCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoY2hhbmdlZC5lbnRyaWVzKCkpLAogICAgICAgICAgX3N0ZXA1OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9zdGVwNSR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwNS52YWx1ZSwgMiksCiAgICAgICAgICAgICAgX2tleSA9IF9zdGVwNSR2YWx1ZVswXSwKICAgICAgICAgICAgICB2YWx1ZSA9IF9zdGVwNSR2YWx1ZVsxXTsKCiAgICAgICAgICB0aGlzLnVwZGF0ZVZub2RlU3RhdGUoX2tleSk7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25UeXBlID09PSAnbGVhZicgJiYgdGhpcy5pc1BhcmVudChfa2V5KSkgY29udGludWU7CiAgICAgICAgICB2YWx1ZSA9PT0gdHJ1ZSA/IHRoaXMuc2VsZWN0ZWRDYWNoZS5hZGQoX2tleSkgOiB0aGlzLnNlbGVjdGVkQ2FjaGVbImRlbGV0ZSJdKF9rZXkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNS5mKCk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVPcGVuOiBmdW5jdGlvbiB1cGRhdGVPcGVuKGtleSwgaXNPcGVuKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjsKICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2tleV07CiAgICAgIHZhciBjaGlsZHJlbiA9IGdldE9iamVjdFZhbHVlQnlQYXRoKG5vZGUuaXRlbSwgdGhpcy5pdGVtQ2hpbGRyZW4pOwoKICAgICAgaWYgKGNoaWxkcmVuICYmICFjaGlsZHJlbi5sZW5ndGggJiYgbm9kZS52bm9kZSAmJiAhbm9kZS52bm9kZS5oYXNMb2FkZWQpIHsKICAgICAgICBub2RlLnZub2RlLmNoZWNrQ2hpbGRyZW4oKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczkudXBkYXRlT3BlbihrZXksIGlzT3Blbik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgbm9kZS5pc09wZW4gPSBpc09wZW47CiAgICAgICAgbm9kZS5pc09wZW4gPyB0aGlzLm9wZW5DYWNoZS5hZGQoa2V5KSA6IHRoaXMub3BlbkNhY2hlWyJkZWxldGUiXShrZXkpOwogICAgICAgIHRoaXMudXBkYXRlVm5vZGVTdGF0ZShrZXkpOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlVm5vZGVTdGF0ZTogZnVuY3Rpb24gdXBkYXRlVm5vZGVTdGF0ZShrZXkpIHsKICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVzW2tleV07CgogICAgICBpZiAobm9kZSAmJiBub2RlLnZub2RlKSB7CiAgICAgICAgbm9kZS52bm9kZS5pc1NlbGVjdGVkID0gbm9kZS5pc1NlbGVjdGVkOwogICAgICAgIG5vZGUudm5vZGUuaXNJbmRldGVybWluYXRlID0gbm9kZS5pc0luZGV0ZXJtaW5hdGU7CiAgICAgICAgbm9kZS52bm9kZS5pc0FjdGl2ZSA9IG5vZGUuaXNBY3RpdmU7CiAgICAgICAgbm9kZS52bm9kZS5pc09wZW4gPSBub2RlLmlzT3BlbjsKICAgICAgfQogICAgfSwKICAgIGlzRXhjbHVkZWQ6IGZ1bmN0aW9uIGlzRXhjbHVkZWQoa2V5KSB7CiAgICAgIHJldHVybiAhIXRoaXMuc2VhcmNoICYmIHRoaXMuZXhjbHVkZWRJdGVtcy5oYXMoa2V5KTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLml0ZW1zLmxlbmd0aCA/IHRoaXMuaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiAhX3RoaXMxMC5pc0V4Y2x1ZGVkKGdldE9iamVjdFZhbHVlQnlQYXRoKGl0ZW0sIF90aGlzMTAuaXRlbUtleSkpOwogICAgfSkubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBnZW5DaGlsZCA9IFZUcmVldmlld05vZGUub3B0aW9ucy5tZXRob2RzLmdlbkNoaWxkLmJpbmQoX3RoaXMxMCk7CiAgICAgIHJldHVybiBnZW5DaGlsZChpdGVtLCBfdGhpczEwLmRpc2FibGVkIHx8IGdldE9iamVjdFZhbHVlQnlQYXRoKGl0ZW0sIF90aGlzMTAuaXRlbURpc2FibGVkKSk7CiAgICB9KQogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIDogdGhpcy4kc2xvdHNbImRlZmF1bHQiXTsgLy8gVE9ETzogcmVtb3ZlIHR5cGUgYW5ub3RhdGlvbiB3aXRoIFRTIDMuMgoKICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAndi10cmVldmlldycsCiAgICAgICJjbGFzcyI6IF9vYmplY3RTcHJlYWQoewogICAgICAgICd2LXRyZWV2aWV3LS1ob3ZlcmFibGUnOiB0aGlzLmhvdmVyYWJsZSwKICAgICAgICAndi10cmVldmlldy0tZGVuc2UnOiB0aGlzLmRlbnNlCiAgICAgIH0sIHRoaXMudGhlbWVDbGFzc2VzKQogICAgfSwgY2hpbGRyZW4pOwogIH0KfSk7"},{"version":3,"sources":["../../../src/components/VTreeview/VTreeview.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA,OAAA,kDAAA,C,CAOA;;AACA,OAAA,aAAA,IAAA,kBAAA,QAAA,iBAAA,C,CAEA;;AACA,OAAA,SAAA,MAAA,wBAAA;AACA,SAAS,OAAO,IAAhB,kBAAA,QAAA,0BAAA,C,CAEA;;AACA,SAAA,SAAA,EAAA,SAAA,EAAA,oBAAA,QAAA,oBAAA;AAKA,OAAA,MAAA,MAAA,mBAAA;AACA,SAAA,WAAA,QAAA,oBAAA;AACA,SAAA,eAAA,EAAA,cAAA,QAAA,wBAAA;AAqBA,eAAe,MAAM,CACnB,kBAAkB,CADC,UACD,CADC,EAEnB;AACA;AAHmB,CAAN,CAAA,MAAA,CAIN;AACP,EAAA,IAAI,EADG,YAAA;AAGP,EAAA,OAHO,qBAGA;AACL,WAAO;AAAE,MAAA,QAAQ,EAAE;AAAZ,KAAP;AAJK,GAAA;AAOP,EAAA,KAAK;AACH,IAAA,MAAM,EAAE;AACN,MAAA,IAAI,EADE,KAAA;AAEN,iBAAS;AAAA,eAAO,EAAP;AAAA;AAFH,KADL;AAKH,IAAA,KAAK,EALA,OAAF;AAMH,IAAA,QAAQ,EANH,OAAF;AAOH,IAAA,MAAM,EAPD,QAAF;AAQH,IAAA,SAAS,EARJ,OAAF;AASH,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EADC,KAAA;AAEL,iBAAS;AAAA,eAAO,EAAP;AAAA;AAFJ,KATJ;AAaH,IAAA,cAAc,EAbT,OAAF;AAcH,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EADA,KAAA;AAEJ,iBAAS;AAAA,eAAO,EAAP;AAAA;AAFL,KAdH;AAkBH,IAAA,OAAO,EAlBF,OAAF;AAmBH,IAAA,YAAY,EAAE;AACZ,MAAA,IAAI,EADQ,OAAA;AAEZ,iBAAS;AAFG,KAnBX;AAuBH,IAAA,MAAM,EAvBD,MAAF;AAwBH,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EADC,KAAA;AAEL,iBAAS;AAAA,eAAO,EAAP;AAAA;AAFJ;AAxBJ,KA4BA,kBA5BA,CAPE;AAsCP,EAAA,IAAI,EAAE;AAAA,WAAO;AACX,MAAA,KAAK,EAAE,CADI,CAAA;AAEX,MAAA,WAAW,EAAE,IAFF,GAEE,EAFF;AAGX,MAAA,KAAK,EAHM,EAAA;AAIX,MAAA,SAAS,EAAE,IAJA,GAIA,EAJA;AAKX,MAAA,aAAa,EAAE,IAAA,GAAA;AALJ,KAAP;AAAA,GAtCC;AA8CP,EAAA,QAAQ,EAAE;AACR,IAAA,aADQ,2BACK;AACX,UAAM,QAAQ,GAAG,IAAjB,GAAiB,EAAjB;AAEA,UAAI,CAAC,KAAL,MAAA,EAAkB,OAAA,QAAA;;AAElB,WAAK,IAAI,CAAC,GAAV,CAAA,EAAgB,CAAC,GAAG,KAAA,KAAA,CAApB,MAAA,EAAuC,CAAvC,EAAA,EAA4C;AAC1C,QAAA,eAAe,CACb,KAAA,MAAA,IADa,cAAA,EAEb,KAAA,KAAA,CAFa,CAEb,CAFa,EAGb,KAHa,MAAA,EAIb,KAJa,OAAA,EAKb,KALa,QAAA,EAMb,KANa,YAAA,EAAf,QAAe,CAAf;AASD;;AAED,aAAA,QAAA;AACD;AAnBO,GA9CH;AAoEP,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE;AACL,MAAA,OADK,qBACE;AAAA;;AACL,YAAM,OAAO,GAAG,MAAM,CAAN,IAAA,CAAY,KAAZ,KAAA,EAAA,GAAA,CAA4B,UAAA,CAAC;AAAA,iBAAI,oBAAoB,CAAC,KAAA,CAAA,KAAA,CAAA,CAAA,EAAD,IAAA,EAAqB,KAAA,CAA1F,OAAqE,CAAxB;AAAA,SAA7B,CAAhB;AACA,YAAM,OAAO,GAAG,KAAA,OAAA,CAAa,KAA7B,KAAgB,CAAhB;AACA,YAAM,IAAI,GAAG,SAAS,CAAA,OAAA,EAHjB,OAGiB,CAAtB,CAHK,CAKL;;AACA,YAAI,CAAC,IAAI,CAAL,MAAA,IAAgB,OAAO,CAAP,MAAA,GAAiB,OAAO,CAA5C,MAAA,EANK,OAAA,CAQL;;AACA,QAAA,IAAI,CAAJ,OAAA,CAAa,UAAA,CAAC;AAAA,iBAAI,OAAO,KAAA,CAAA,KAAA,CAAzB,CAAyB,CAAX;AAAA,SAAd;;AAEA,YAAM,gBAAgB,sBAAO,KAA7B,aAAsB,CAAtB;;AACA,aAAA,aAAA,GAAqB,IAArB,GAAqB,EAArB;AACA,aAAA,WAAA,GAAmB,IAAnB,GAAmB,EAAnB;AACA,aAAA,SAAA,GAAiB,IAAjB,GAAiB,EAAjB;AACA,aAAA,SAAA,CAAe,KAfV,KAeL,EAfK,CAiBL;AACA;AACA;AACA;;AACA,YAAI,CAAC,SAAS,CAAA,gBAAA,qBAAuB,KAArC,aAAc,EAAd,EAA2D,KAAA,YAAA;AAtBxD,OAAA;AAwBL,MAAA,IAAI,EAAE;AAxBD,KADF;AA2BL,IAAA,MA3BK,kBA2BC,KA3BD,EA2BmC;AACtC,WAAA,sBAAA,CAAA,KAAA,EAAmC,KAAnC,WAAA,EAAqD,KAArD,YAAA,EAAwE,KAAxE,UAAA;AA5BG,KAAA;AA8BL,IAAA,KA9BK,iBA8BA,MA9BA,EA8BkC;AACrC,WAAA,sBAAA,CAAA,MAAA,EAAmC,KAAnC,aAAA,EAAuD,KAAvD,cAAA,EAA4E,KAA5E,YAAA;AA/BG,KAAA;AAiCL,IAAA,IAjCK,gBAiCD,KAjCC,EAiCiC;AACpC,WAAA,sBAAA,CAAA,KAAA,EAAmC,KAAnC,SAAA,EAAmD,KAAnD,UAAA,EAAoE,KAApE,QAAA;AACD;AAnCI,GApEA;AA0GP,EAAA,OA1GO,qBA0GA;AAAA;;AACL,QAAM,QAAQ,GAAI,SAAZ,QAAY,CAAA,GAAD;AAAA,aAA0B,MAAA,CAAA,YAAA,GAAoB,oBAAoB,CAAA,GAAA,EAAM,MAAA,CAA9C,OAAwC,CAAxC,GAA3C,GAAiB;AAAA,KAAjB;;AAEA,SAAA,SAAA,CAAe,KAAf,KAAA;;AAHK,+CAKe,KAAA,KAAA,CAAA,GAAA,CAApB,QAAoB,CALf;AAAA;;AAAA;AAKL,0DAA8C;AAAA,YAA9C,KAA8C;AAC5C,aAAA,cAAA,CAAA,KAAA,EAAA,IAAA,EAAA,IAAA;AACD;AAPI;AAAA;AAAA;AAAA;AAAA;;AAAA,gDASgB,KAAA,MAAA,CAAA,GAAA,CAArB,QAAqB,CAThB;AAAA;;AAAA;AASL,6DAAgD;AAAA,YAAhD,MAAgD;AAC9C,aAAA,YAAA,CAAA,MAAA,EAAA,IAAA;AACD;AAXI;AAAA;AAAA;AAAA;AAAA;AA1GA,GAAA;AAwHP,EAAA,OAxHO,qBAwHA;AAAA;;AACL;AACA,QAAI,KAAA,MAAA,CAAA,OAAA,IAAuB,KAAA,MAAA,CAA3B,MAAA,EAA+C;AAC7C,MAAA,WAAW,CAAA,6DAAA,EAAX,IAAW,CAAX;AACD;;AAED,QAAI,KAAJ,OAAA,EAAkB;AAChB,WAAA,SAAA,CAAA,IAAA;AADF,KAAA,MAEO;AACL,WAAA,IAAA,CAAA,OAAA,CAAkB,UAAA,GAAG;AAAA,eAAI,MAAA,CAAA,UAAA,CAAgB,MAAA,CAAA,YAAA,GAAoB,oBAAoB,CAAA,GAAA,EAAM,MAAA,CAA9C,OAAwC,CAAxC,GAAhB,GAAA,EAAzB,IAAyB,CAAJ;AAAA,OAArB;AACA,WAAA,QAAA;AACD;AAnII,GAAA;AAsIP,EAAA,OAAO,EAAE;AACP;AACA,IAAA,SAFO,qBAEE,KAFF,EAEkB;AAAA;;AACvB,MAAA,MAAM,CAAN,IAAA,CAAY,KAAZ,KAAA,EAAA,OAAA,CAAgC,UAAA,GAAG;AAAA,eAAI,MAAA,CAAA,UAAA,CAAgB,oBAAoB,CAAC,MAAA,CAAA,KAAA,CAAA,GAAA,EAAD,IAAA,EAAuB,MAAA,CAA3D,OAAoC,CAApC,EAAvC,KAAuC,CAAJ;AAAA,OAAnC;AACA,WAAA,QAAA;AAJK,KAAA;AAMP,IAAA,OANO,mBAMA,KANA,EAMgC;AAAA,UAAhB,IAAgB,uEAAhC,EAAgC;;AACrC,WAAK,IAAI,CAAC,GAAV,CAAA,EAAgB,CAAC,GAAG,KAAK,CAAzB,MAAA,EAAkC,CAAlC,EAAA,EAAuC;AACrC,YAAM,GAAG,GAAG,oBAAoB,CAAC,KAAK,CAAN,CAAM,CAAN,EAAW,KAA3C,OAAgC,CAAhC;AACA,QAAA,IAAI,CAAJ,IAAA,CAAA,GAAA;AACA,YAAM,QAAQ,GAAG,oBAAoB,CAAC,KAAK,CAAN,CAAM,CAAN,EAAW,KAAhD,YAAqC,CAArC;;AACA,YAAA,QAAA,EAAc;AACZ,UAAA,IAAI,CAAJ,IAAA,OAAA,IAAI,qBAAS,KAAA,OAAA,CAAb,QAAa,CAAT,EAAJ;AACD;AACF;;AAED,aAAA,IAAA;AAhBK,KAAA;AAkBP,IAAA,SAlBO,qBAkBE,KAlBF,EAkByD;AAAA;;AAAA,UAAvC,MAAuC,uEAAvD,IAAuD;;AAC9D,WAAK,IAAI,CAAC,GAAV,CAAA,EAAgB,CAAC,GAAG,KAAK,CAAzB,MAAA,EAAkC,CAAlC,EAAA,EAAuC;AAAA,YAAA,qBAAA;;AACrC,YAAM,IAAI,GAAG,KAAK,CAAlB,CAAkB,CAAlB;AACA,YAAM,GAAG,GAAG,oBAAoB,CAAA,IAAA,EAAO,KAAvC,OAAgC,CAAhC;AACA,YAAM,QAAQ,GAAA,CAAA,qBAAA,GAAG,oBAAoB,CAAA,IAAA,EAAO,KAA9B,YAAuB,CAAvB,KAAA,IAAA,GAAA,qBAAA,GAAd,EAAA;AACA,YAAM,OAAO,GAAG,KAAA,KAAA,CAAA,cAAA,CAAA,GAAA,IAAiC,KAAA,KAAA,CAAjC,GAAiC,CAAjC,GAAmD;AACjE,UAAA,UAAU,EADuD,KAAA;AAC9C,UAAA,eAAe,EAD+B,KAAA;AACtB,UAAA,QAAQ,EADc,KAAA;AACL,UAAA,MAAM,EADD,KAAA;AACU,UAAA,KAAK,EAAE;AADjB,SAAnE;AAIA,YAAM,IAAI,GAAQ;AAChB,UAAA,KAAK,EAAE,OAAO,CADE,KAAA;AAEhB,UAAA,MAFgB,EAEhB,MAFgB;AAGhB,UAAA,QAAQ,EAAE,QAAQ,CAAR,GAAA,CAAc,UAAA,CAAD;AAAA,mBAAY,oBAAoB,CAAA,CAAA,EAAI,MAAA,CAH3C,OAGuC,CAAhC;AAAA,WAAb,CAHM;AAIhB,UAAA,IAAA,EAAA;AAJgB,SAAlB;AAOA,aAAA,SAAA,CAAA,QAAA,EAfqC,GAerC,EAfqC,CAiBrC;;AACA,YACE,KAAA,aAAA,KAAA,aAAA,IACA,MAAM,KADN,IAAA,IAEA,CAAC,KAAA,KAAA,CAAA,cAAA,CAFD,GAEC,CAFD,IAGA,KAAA,KAAA,CAAA,cAAA,CAJF,MAIE,CAJF,EAKE;AACA,UAAA,IAAI,CAAJ,UAAA,GAAkB,KAAA,KAAA,CAAA,MAAA,EAAlB,UAAA;AANF,SAAA,MAOO;AACL,UAAA,IAAI,CAAJ,UAAA,GAAkB,OAAO,CAAzB,UAAA;AACA,UAAA,IAAI,CAAJ,eAAA,GAAuB,OAAO,CAA9B,eAAA;AACD;;AAED,QAAA,IAAI,CAAJ,QAAA,GAAgB,OAAO,CAAvB,QAAA;AACA,QAAA,IAAI,CAAJ,MAAA,GAAc,OAAO,CAArB,MAAA;AAEA,aAAA,KAAA,CAAA,GAAA,IAAA,IAAA;;AAEA,YAAI,QAAQ,CAAR,MAAA,IAAmB,KAAA,aAAA,KAAvB,aAAA,EAA6D;AAC3D,qCAAwC,KAAA,cAAA,CAAA,GAAA,EAAyB,KAAjE,KAAwC,CAAxC;AAAA,cAAM,UAAN,wBAAM,UAAN;AAAA,cAAoB,eAApB,wBAAoB,eAApB;;AAEA,UAAA,IAAI,CAAJ,UAAA,GAAA,UAAA;AACA,UAAA,IAAI,CAAJ,eAAA,GAAA,eAAA;AAvCmC,SAAA,CA0CrC;;;AACA,YAAI,KAAA,KAAA,CAAA,GAAA,EAAA,UAAA,KAA+B,KAAA,aAAA,KAAA,aAAA,IAAwC,IAAI,CAAJ,QAAA,CAAA,MAAA,KAA3E,CAAI,CAAJ,EAAwG,KAAA,aAAA,CAAA,GAAA,CAAA,GAAA;AACxG,YAAI,KAAA,KAAA,CAAA,GAAA,EAAJ,QAAA,EAA8B,KAAA,WAAA,CAAA,GAAA,CAAA,GAAA;AAC9B,YAAI,KAAA,KAAA,CAAA,GAAA,EAAJ,MAAA,EAA4B,KAAA,SAAA,CAAA,GAAA,CAAA,GAAA;AAE5B,aAAA,gBAAA,CAAA,GAAA;AACD;AAnEI,KAAA;AAqEP,IAAA,cArEO,0BAqEO,IArEP,EAqEO,KArEP,EAqEyE;AAC9E,UAAM,QAAQ,GAAG,KAAK,CAAL,IAAK,CAAL,CAAjB,QAAA;AACA,UAAM,MAAM,GAAG,QAAQ,CAAR,MAAA,CAAgB,UAAA,MAAA,EAAA,KAAA,EAA6C;AAC1E,QAAA,MAAM,CAAN,CAAM,CAAN,IAAa,CAAC,OAAO,CAAC,KAAK,CAAL,KAAK,CAAL,CAAtB,UAAqB,CAArB;AACA,QAAA,MAAM,CAAN,CAAM,CAAN,IAAa,CAAC,OAAO,CAAC,KAAK,CAAL,KAAK,CAAL,CAAtB,eAAqB,CAArB;AAEA,eAAA,MAAA;AAJa,OAAA,EAKZ,CAAA,CAAA,EALH,CAKG,CALY,CAAf;AAOA,UAAM,UAAU,GAAG,CAAC,CAAC,QAAQ,CAAV,MAAA,IAAqB,MAAM,CAAN,CAAM,CAAN,KAAc,QAAQ,CAA9D,MAAA;AACA,UAAM,eAAe,GAAG,CAAA,UAAA,KAAgB,MAAM,CAAN,CAAM,CAAN,GAAA,CAAA,IAAiB,MAAM,CAAN,CAAM,CAAN,GAAzD,CAAwB,CAAxB;AAEA,aAAO;AACL,QAAA,UADK,EACL,UADK;AAEL,QAAA,eAAA,EAAA;AAFK,OAAP;AAjFK,KAAA;AAsFP,IAAA,QAtFO,sBAsFC;AACN,WAAA,aAAA,CAAA,aAAA,EAAkC,KAAlC,SAAA;AAvFK,KAAA;AAyFP,IAAA,YAzFO,0BAyFK;AACV,WAAA,aAAA,CAAA,OAAA,EAA4B,KAA5B,aAAA;AA1FK,KAAA;AA4FP,IAAA,UA5FO,wBA4FG;AACR,WAAA,aAAA,CAAA,eAAA,EAAoC,KAApC,WAAA;AA7FK,KAAA;AA+FP,IAAA,aA/FO,yBA+FM,KA/FN,EA+FM,KA/FN,EA+FuC;AAAA;;AAC5C,WAAA,KAAA,CAAA,KAAA,EAAkB,KAAA,YAAA,GAAoB,mBAAA,KAAA,EAAA,GAAA,CAAe,UAAA,GAAG;AAAA,eAAI,MAAA,CAAA,KAAA,CAAA,GAAA,EAA1C,IAAsC;AAAA,OAAlB,CAApB,sBAAlB,KAAkB,CAAlB;AAhGK,KAAA;AAkGP,IAAA,sBAlGO,kCAkGe,KAlGf,EAkGe,KAlGf,EAkGe,QAlGf,EAkGe,MAlGf,EAkGqF;AAAA;;AAC1F,MAAA,KAAK,GAAG,KAAA,YAAA,GAAoB,KAAK,CAAL,GAAA,CAAU,UAAA,CAAC;AAAA,eAAI,oBAAoB,CAAA,CAAA,EAAI,MAAA,CAA3D,OAAuD,CAAxB;AAAA,OAAX,CAApB,GAAR,KAAA;;AACA,UAAM,GAAG,sBAAT,KAAS,CAAT;;AACA,UAAI,SAAS,CAAA,GAAA,EAAb,KAAa,CAAb,EAA2B;AAE3B,MAAA,GAAG,CAAH,OAAA,CAAY,UAAA,GAAG;AAAA,eAAI,QAAQ,CAAA,GAAA,EAA3B,KAA2B,CAAZ;AAAA,OAAf;AACA,MAAA,KAAK,CAAL,OAAA,CAAc,UAAA,GAAG;AAAA,eAAI,QAAQ,CAAA,GAAA,EAA7B,IAA6B,CAAZ;AAAA,OAAjB;AAEA,MAAA,MAAM;AA1GD,KAAA;AA4GP,IAAA,cA5GO,0BA4GO,GA5GP,EA4G0D;AAAA;;AAAA,UAA3B,WAA2B,uEAAnD,EAAmD;AAC/D,UAAM,QAAQ,GAAG,KAAA,KAAA,CAAA,GAAA,EAAjB,QAAA;;AAEA,sBAAA,WAAW,EAAX,IAAA,wCAAA,QAAA;;AAEA,WAAK,IAAI,CAAC,GAAV,CAAA,EAAgB,CAAC,GAAG,QAAQ,CAA5B,MAAA,EAAqC,CAArC,EAAA,EAA0C;AACxC,QAAA,WAAW,GAAG,KAAA,cAAA,CAAoB,QAAQ,CAA5B,CAA4B,CAA5B,EAAd,WAAc,CAAd;AACD;;AAED,aAAA,WAAA;AArHK,KAAA;AAuHP,IAAA,UAvHO,sBAuHG,GAvHH,EAuHyB;AAC9B,UAAI,MAAM,GAAG,KAAA,KAAA,CAAA,GAAA,EAAb,MAAA;AAEA,UAAM,OAAO,GAAb,EAAA;;AACA,aAAO,MAAM,KAAb,IAAA,EAAwB;AACtB,QAAA,OAAO,CAAP,IAAA,CAAA,MAAA;AACA,QAAA,MAAM,GAAG,KAAA,KAAA,CAAA,MAAA,EAAT,MAAA;AACD;;AAED,aAAA,OAAA;AAhIK,KAAA;AAkIP,IAAA,QAlIO,oBAkIC,IAlID,EAkI8B;AACnC,UAAM,GAAG,GAAG,oBAAoB,CAAC,IAAI,CAAL,IAAA,EAAY,KAA5C,OAAgC,CAAhC;AACA,WAAA,KAAA,CAAA,GAAA,EAAA,KAAA,GAAA,IAAA;AAEA,WAAA,gBAAA,CAAA,GAAA;AAtIK,KAAA;AAwIP,IAAA,UAxIO,sBAwIG,IAxIH,EAwIgC;AACrC,UAAM,GAAG,GAAG,oBAAoB,CAAC,IAAI,CAAL,IAAA,EAAY,KAA5C,OAAgC,CAAhC;AACA,UAAI,KAAA,KAAA,CAAJ,GAAI,CAAJ,EAAqB,KAAA,KAAA,CAAA,GAAA,EAAA,KAAA,GAAA,IAAA;AA1IhB,KAAA;AA4IP,IAAA,QA5IO,oBA4IC,GA5ID,EA4IuB;AAC5B,aAAO,KAAA,KAAA,CAAA,GAAA,EAAA,QAAA,IAA4B,KAAA,KAAA,CAAA,GAAA,EAAA,QAAA,CAAnC,MAAA;AA7IK,KAAA;AA+IP,IAAA,YA/IO,wBA+IK,GA/IL,EA+IK,QA/IL,EA+I8C;AAAA;;AACnD,UAAI,CAAC,KAAA,KAAA,CAAA,cAAA,CAAL,GAAK,CAAL,EAAqC;;AAErC,UAAI,CAAC,KAAL,cAAA,EAA0B;AACxB,aAAA,WAAA,CAAA,OAAA,CAAyB,UAAA,MAAM,EAAG;AAChC,UAAA,MAAA,CAAA,KAAA,CAAA,MAAA,EAAA,QAAA,GAAA,KAAA;;AACA,UAAA,MAAA,CAAA,gBAAA,CAAA,MAAA;;AACA,UAAA,MAAA,CAAA,WAAA,WAAA,MAAA;AAHF,SAAA;AAKD;;AAED,UAAM,IAAI,GAAG,KAAA,KAAA,CAAb,GAAa,CAAb;AACA,UAAI,CAAJ,IAAA,EAAW;AAEX,UAAA,QAAA,EAAc,KAAA,WAAA,CAAA,GAAA,CAAd,GAAc,EAAd,KACK,KAAA,WAAA,WAAA,GAAA;AAEL,MAAA,IAAI,CAAJ,QAAA,GAAA,QAAA;AAEA,WAAA,gBAAA,CAAA,GAAA;AAlKK,KAAA;AAoKP,IAAA,cApKO,0BAoKO,GApKP,EAoKO,UApKP,EAoKoE;AAAA,UAAhB,QAAgB,uEAA7D,KAA6D;AACzE,UAAI,CAAC,KAAA,KAAA,CAAA,cAAA,CAAL,GAAK,CAAL,EAAqC;AAErC,UAAM,OAAO,GAAG,IAAhB,GAAgB,EAAhB;;AAEA,UAAI,KAAA,aAAA,KAAJ,aAAA,EAA0C;AAAA,oDACf,KAAA,cAAA,CAAzB,GAAyB,CADe;AAAA;;AAAA;AACxC,iEAAmD;AAAA,gBAAnD,UAAmD;;AACjD,gBAAI,CAAC,oBAAoB,CAAC,KAAA,KAAA,CAAA,UAAA,EAAD,IAAA,EAA8B,KAAnD,YAAqB,CAArB,IAAJ,QAAA,EAAuF;AACrF,mBAAA,KAAA,CAAA,UAAA,EAAA,UAAA,GAAA,UAAA;AACA,mBAAA,KAAA,CAAA,UAAA,EAAA,eAAA,GAAA,KAAA;AACA,cAAA,OAAO,CAAP,GAAA,CAAA,UAAA,EAAA,UAAA;AACD;AACF;AAPuC;AAAA;AAAA;AAAA;AAAA;;AASxC,YAAM,UAAU,GAAG,KAAA,cAAA,CAAA,GAAA,EAAyB,KAA5C,KAAmB,CAAnB;AACA,aAAA,KAAA,CAAA,GAAA,EAAA,UAAA,GAAA,UAAA;AACA,aAAA,KAAA,CAAA,GAAA,EAAA,eAAA,GAAkC,UAAU,CAA5C,eAAA;AACA,QAAA,OAAO,CAAP,GAAA,CAAA,GAAA,EAAA,UAAA;;AAZwC,oDAcnB,KAAA,UAAA,CAArB,GAAqB,CAdmB;AAAA;;AAAA;AAcxC,iEAA2C;AAAA,gBAA3C,MAA2C;;AACzC,gBAAM,WAAU,GAAG,KAAA,cAAA,CAAA,MAAA,EAA4B,KAA/C,KAAmB,CAAnB;;AACA,iBAAA,KAAA,CAAA,MAAA,EAAA,UAAA,GAAgC,WAAU,CAA1C,UAAA;AACA,iBAAA,KAAA,CAAA,MAAA,EAAA,eAAA,GAAqC,WAAU,CAA/C,eAAA;AACA,YAAA,OAAO,CAAP,GAAA,CAAA,MAAA,EAAoB,WAAU,CAA9B,UAAA;AACD;AAnBuC;AAAA;AAAA;AAAA;AAAA;AAA1C,OAAA,MAoBO;AACL,aAAA,KAAA,CAAA,GAAA,EAAA,UAAA,GAAA,UAAA;AACA,aAAA,KAAA,CAAA,GAAA,EAAA,eAAA,GAAA,KAAA;AACA,QAAA,OAAO,CAAP,GAAA,CAAA,GAAA,EAAA,UAAA;AACD;;AA7BwE,kDA+B9C,OAAO,CAAlC,OAA2B,EA/B8C;AAAA;;AAAA;AA+BzE,+DAA8C;AAAA;AAAA,cAAnC,IAAmC;AAAA,cAA9C,KAA8C;;AAC5C,eAAA,gBAAA,CAAA,IAAA;AAEA,cAAI,KAAA,aAAA,KAAA,MAAA,IAAiC,KAAA,QAAA,CAArC,IAAqC,CAArC,EAAyD;AAEzD,UAAA,KAAK,KAAL,IAAA,GAAiB,KAAA,aAAA,CAAA,GAAA,CAAjB,IAAiB,CAAjB,GAA+C,KAAA,aAAA,WAA/C,IAA+C,CAA/C;AACD;AArCwE;AAAA;AAAA;AAAA;AAAA;AApKpE,KAAA;AA2MP,IAAA,UA3MO,sBA2MG,GA3MH,EA2MG,MA3MH,EA2M0C;AAAA;;AAC/C,UAAI,CAAC,KAAA,KAAA,CAAA,cAAA,CAAL,GAAK,CAAL,EAAqC;AAErC,UAAM,IAAI,GAAG,KAAA,KAAA,CAAb,GAAa,CAAb;AACA,UAAM,QAAQ,GAAG,oBAAoB,CAAC,IAAI,CAAL,IAAA,EAAY,KAAjD,YAAqC,CAArC;;AAEA,UAAI,QAAQ,IAAI,CAAC,QAAQ,CAArB,MAAA,IAAgC,IAAI,CAApC,KAAA,IAA8C,CAAC,IAAI,CAAJ,KAAA,CAAnD,SAAA,EAAyE;AACvE,QAAA,IAAI,CAAJ,KAAA,CAAA,aAAA,GAAA,IAAA,CAAgC;AAAA,iBAAM,MAAA,CAAA,UAAA,CAAA,GAAA,EAAtC,MAAsC,CAAN;AAAA,SAAhC;AADF,OAAA,MAEO,IAAI,QAAQ,IAAI,QAAQ,CAAxB,MAAA,EAAiC;AACtC,QAAA,IAAI,CAAJ,MAAA,GAAA,MAAA;AAEA,QAAA,IAAI,CAAJ,MAAA,GAAc,KAAA,SAAA,CAAA,GAAA,CAAd,GAAc,CAAd,GAAwC,KAAA,SAAA,WAAxC,GAAwC,CAAxC;AAEA,aAAA,gBAAA,CAAA,GAAA;AACD;AAzNI,KAAA;AA2NP,IAAA,gBA3NO,4BA2NS,GA3NT,EA2N+B;AACpC,UAAM,IAAI,GAAG,KAAA,KAAA,CAAb,GAAa,CAAb;;AAEA,UAAI,IAAI,IAAI,IAAI,CAAhB,KAAA,EAAwB;AACtB,QAAA,IAAI,CAAJ,KAAA,CAAA,UAAA,GAAwB,IAAI,CAA5B,UAAA;AACA,QAAA,IAAI,CAAJ,KAAA,CAAA,eAAA,GAA6B,IAAI,CAAjC,eAAA;AACA,QAAA,IAAI,CAAJ,KAAA,CAAA,QAAA,GAAsB,IAAI,CAA1B,QAAA;AACA,QAAA,IAAI,CAAJ,KAAA,CAAA,MAAA,GAAoB,IAAI,CAAxB,MAAA;AACD;AAnOI,KAAA;AAqOP,IAAA,UArOO,sBAqOG,GArOH,EAqOyB;AAC9B,aAAO,CAAC,CAAC,KAAF,MAAA,IAAiB,KAAA,aAAA,CAAA,GAAA,CAAxB,GAAwB,CAAxB;AACD;AAvOM,GAtIF;AAgXP,EAAA,MAhXO,kBAgXD,CAhXC,EAgXE;AAAA;;AACP,QAAM,QAAQ,GAA+B,KAAA,KAAA,CAAA,MAAA,GACzC,KAAA,KAAA,CAAA,MAAA,CAAkB,UAAA,IAAI,EAAG;AACzB,aAAO,CAAC,OAAA,CAAA,UAAA,CAAgB,oBAAoB,CAAA,IAAA,EAAO,OAAA,CAAnD,OAA4C,CAApC,CAAR;AADA,KAAA,EAAA,GAAA,CAEK,UAAA,IAAI,EAAG;AACZ,UAAM,QAAQ,GAAG,aAAa,CAAb,OAAA,CAAA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAjB,OAAiB,CAAjB;AAEA,aAAO,QAAQ,CAAA,IAAA,EAAO,OAAA,CAAA,QAAA,IAAiB,oBAAoB,CAAA,IAAA,EAAO,OAAA,CAAlE,YAA2D,CAA5C,CAAf;AALA,KAAA;AAOF;AAR2C,MASzC,KAVG,MAUH,WATJ,CADO,CAUkB;;AAEzB,WAAO,CAAC,CAAA,KAAA,EAAQ;AACd,MAAA,WAAW,EADG,YAAA;AAEd;AACE,iCAAyB,KADpB,SAAP;AAEE,6BAAqB,KAFhB;AAAP,SAGK,KAAK,YAHV;AAFc,KAAR,EAAR,QAAQ,CAAR;AAQD;AApYM,CAJM,CAAf","sourcesContent":["// Styles\nimport './VTreeview.sass'\n\n// Types\nimport { VNode, VNodeChildrenArrayContents, PropType } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { TreeviewItemFunction } from 'vuetify/types'\n\n// Components\nimport VTreeviewNode, { VTreeviewNodeProps } from './VTreeviewNode'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utils\nimport {\n  arrayDiff,\n  deepEqual,\n  getObjectValueByPath,\n} from '../../util/helpers'\nimport mixins from '../../util/mixins'\nimport { consoleWarn } from '../../util/console'\nimport {\n  filterTreeItems,\n  filterTreeItem,\n} from './util/filterTreeItems'\n\ntype VTreeviewNodeInstance = InstanceType<typeof VTreeviewNode>\n\ntype NodeCache = Set<string | number>\ntype NodeArray = (string | number)[]\n\ntype NodeState = {\n  parent: number | string | null\n  children: (number | string)[]\n  vnode: VTreeviewNodeInstance | null\n  isActive: boolean\n  isSelected: boolean\n  isIndeterminate: boolean\n  isOpen: boolean\n  item: any\n}\n\nexport default mixins(\n  RegistrableProvide('treeview'),\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-treeview',\n\n  provide (): object {\n    return { treeview: this }\n  },\n\n  props: {\n    active: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<NodeArray>,\n    dense: Boolean,\n    disabled: Boolean,\n    filter: Function as PropType<TreeviewItemFunction>,\n    hoverable: Boolean,\n    items: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<any[]>,\n    multipleActive: Boolean,\n    open: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<NodeArray>,\n    openAll: Boolean,\n    returnObject: {\n      type: Boolean,\n      default: false, // TODO: Should be true in next major\n    },\n    search: String,\n    value: {\n      type: Array,\n      default: () => ([]),\n    } as PropValidator<NodeArray>,\n    ...VTreeviewNodeProps,\n  },\n\n  data: () => ({\n    level: -1,\n    activeCache: new Set() as NodeCache,\n    nodes: {} as Record<string | number, NodeState>,\n    openCache: new Set() as NodeCache,\n    selectedCache: new Set() as NodeCache,\n  }),\n\n  computed: {\n    excludedItems (): Set<string | number> {\n      const excluded = new Set<string|number>()\n\n      if (!this.search) return excluded\n\n      for (let i = 0; i < this.items.length; i++) {\n        filterTreeItems(\n          this.filter || filterTreeItem,\n          this.items[i],\n          this.search,\n          this.itemKey,\n          this.itemText,\n          this.itemChildren,\n          excluded\n        )\n      }\n\n      return excluded\n    },\n  },\n\n  watch: {\n    items: {\n      handler () {\n        const oldKeys = Object.keys(this.nodes).map(k => getObjectValueByPath(this.nodes[k].item, this.itemKey))\n        const newKeys = this.getKeys(this.items)\n        const diff = arrayDiff(newKeys, oldKeys)\n\n        // We only want to do stuff if items have changed\n        if (!diff.length && newKeys.length < oldKeys.length) return\n\n        // If nodes are removed we need to clear them from this.nodes\n        diff.forEach(k => delete this.nodes[k])\n\n        const oldSelectedCache = [...this.selectedCache]\n        this.selectedCache = new Set()\n        this.activeCache = new Set()\n        this.openCache = new Set()\n        this.buildTree(this.items)\n\n        // Only emit selected if selection has changed\n        // as a result of items changing. This fixes a\n        // potential double emit when selecting a node\n        // with dynamic children\n        if (!deepEqual(oldSelectedCache, [...this.selectedCache])) this.emitSelected()\n      },\n      deep: true,\n    },\n    active (value: (string | number | any)[]) {\n      this.handleNodeCacheWatcher(value, this.activeCache, this.updateActive, this.emitActive)\n    },\n    value (value: (string | number | any)[]) {\n      this.handleNodeCacheWatcher(value, this.selectedCache, this.updateSelected, this.emitSelected)\n    },\n    open (value: (string | number | any)[]) {\n      this.handleNodeCacheWatcher(value, this.openCache, this.updateOpen, this.emitOpen)\n    },\n  },\n\n  created () {\n    const getValue = (key: string | number) => this.returnObject ? getObjectValueByPath(key, this.itemKey) : key\n\n    this.buildTree(this.items)\n\n    for (const value of this.value.map(getValue)) {\n      this.updateSelected(value, true, true)\n    }\n\n    for (const active of this.active.map(getValue)) {\n      this.updateActive(active, true)\n    }\n  },\n\n  mounted () {\n    // Save the developer from themselves\n    if (this.$slots.prepend || this.$slots.append) {\n      consoleWarn('The prepend and append slots require a slot-scope attribute', this)\n    }\n\n    if (this.openAll) {\n      this.updateAll(true)\n    } else {\n      this.open.forEach(key => this.updateOpen(this.returnObject ? getObjectValueByPath(key, this.itemKey) : key, true))\n      this.emitOpen()\n    }\n  },\n\n  methods: {\n    /** @public */\n    updateAll (value: boolean) {\n      Object.keys(this.nodes).forEach(key => this.updateOpen(getObjectValueByPath(this.nodes[key].item, this.itemKey), value))\n      this.emitOpen()\n    },\n    getKeys (items: any[], keys: any[] = []) {\n      for (let i = 0; i < items.length; i++) {\n        const key = getObjectValueByPath(items[i], this.itemKey)\n        keys.push(key)\n        const children = getObjectValueByPath(items[i], this.itemChildren)\n        if (children) {\n          keys.push(...this.getKeys(children))\n        }\n      }\n\n      return keys\n    },\n    buildTree (items: any[], parent: (string | number | null) = null) {\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i]\n        const key = getObjectValueByPath(item, this.itemKey)\n        const children = getObjectValueByPath(item, this.itemChildren) ?? []\n        const oldNode = this.nodes.hasOwnProperty(key) ? this.nodes[key] : {\n          isSelected: false, isIndeterminate: false, isActive: false, isOpen: false, vnode: null,\n        } as NodeState\n\n        const node: any = {\n          vnode: oldNode.vnode,\n          parent,\n          children: children.map((c: any) => getObjectValueByPath(c, this.itemKey)),\n          item,\n        }\n\n        this.buildTree(children, key)\n\n        // This fixed bug with dynamic children resetting selected parent state\n        if (\n          this.selectionType !== 'independent' &&\n          parent !== null &&\n          !this.nodes.hasOwnProperty(key) &&\n          this.nodes.hasOwnProperty(parent)\n        ) {\n          node.isSelected = this.nodes[parent].isSelected\n        } else {\n          node.isSelected = oldNode.isSelected\n          node.isIndeterminate = oldNode.isIndeterminate\n        }\n\n        node.isActive = oldNode.isActive\n        node.isOpen = oldNode.isOpen\n\n        this.nodes[key] = node\n\n        if (children.length && this.selectionType !== 'independent') {\n          const { isSelected, isIndeterminate } = this.calculateState(key, this.nodes)\n\n          node.isSelected = isSelected\n          node.isIndeterminate = isIndeterminate\n        }\n\n        // Don't forget to rebuild cache\n        if (this.nodes[key].isSelected && (this.selectionType === 'independent' || node.children.length === 0)) this.selectedCache.add(key)\n        if (this.nodes[key].isActive) this.activeCache.add(key)\n        if (this.nodes[key].isOpen) this.openCache.add(key)\n\n        this.updateVnodeState(key)\n      }\n    },\n    calculateState (node: string | number, state: Record<string | number, NodeState>) {\n      const children = state[node].children\n      const counts = children.reduce((counts: number[], child: string | number) => {\n        counts[0] += +Boolean(state[child].isSelected)\n        counts[1] += +Boolean(state[child].isIndeterminate)\n\n        return counts\n      }, [0, 0])\n\n      const isSelected = !!children.length && counts[0] === children.length\n      const isIndeterminate = !isSelected && (counts[0] > 0 || counts[1] > 0)\n\n      return {\n        isSelected,\n        isIndeterminate,\n      }\n    },\n    emitOpen () {\n      this.emitNodeCache('update:open', this.openCache)\n    },\n    emitSelected () {\n      this.emitNodeCache('input', this.selectedCache)\n    },\n    emitActive () {\n      this.emitNodeCache('update:active', this.activeCache)\n    },\n    emitNodeCache (event: string, cache: NodeCache) {\n      this.$emit(event, this.returnObject ? [...cache].map(key => this.nodes[key].item) : [...cache])\n    },\n    handleNodeCacheWatcher (value: any[], cache: NodeCache, updateFn: Function, emitFn: Function) {\n      value = this.returnObject ? value.map(v => getObjectValueByPath(v, this.itemKey)) : value\n      const old = [...cache]\n      if (deepEqual(old, value)) return\n\n      old.forEach(key => updateFn(key, false))\n      value.forEach(key => updateFn(key, true))\n\n      emitFn()\n    },\n    getDescendants (key: string | number, descendants: NodeArray = []) {\n      const children = this.nodes[key].children\n\n      descendants.push(...children)\n\n      for (let i = 0; i < children.length; i++) {\n        descendants = this.getDescendants(children[i], descendants)\n      }\n\n      return descendants\n    },\n    getParents (key: string | number) {\n      let parent = this.nodes[key].parent\n\n      const parents = []\n      while (parent !== null) {\n        parents.push(parent)\n        parent = this.nodes[parent].parent\n      }\n\n      return parents\n    },\n    register (node: VTreeviewNodeInstance) {\n      const key = getObjectValueByPath(node.item, this.itemKey)\n      this.nodes[key].vnode = node\n\n      this.updateVnodeState(key)\n    },\n    unregister (node: VTreeviewNodeInstance) {\n      const key = getObjectValueByPath(node.item, this.itemKey)\n      if (this.nodes[key]) this.nodes[key].vnode = null\n    },\n    isParent (key: string | number) {\n      return this.nodes[key].children && this.nodes[key].children.length\n    },\n    updateActive (key: string | number, isActive: boolean) {\n      if (!this.nodes.hasOwnProperty(key)) return\n\n      if (!this.multipleActive) {\n        this.activeCache.forEach(active => {\n          this.nodes[active].isActive = false\n          this.updateVnodeState(active)\n          this.activeCache.delete(active)\n        })\n      }\n\n      const node = this.nodes[key]\n      if (!node) return\n\n      if (isActive) this.activeCache.add(key)\n      else this.activeCache.delete(key)\n\n      node.isActive = isActive\n\n      this.updateVnodeState(key)\n    },\n    updateSelected (key: string | number, isSelected: boolean, isForced = false) {\n      if (!this.nodes.hasOwnProperty(key)) return\n\n      const changed = new Map()\n\n      if (this.selectionType !== 'independent') {\n        for (const descendant of this.getDescendants(key)) {\n          if (!getObjectValueByPath(this.nodes[descendant].item, this.itemDisabled) || isForced) {\n            this.nodes[descendant].isSelected = isSelected\n            this.nodes[descendant].isIndeterminate = false\n            changed.set(descendant, isSelected)\n          }\n        }\n\n        const calculated = this.calculateState(key, this.nodes)\n        this.nodes[key].isSelected = isSelected\n        this.nodes[key].isIndeterminate = calculated.isIndeterminate\n        changed.set(key, isSelected)\n\n        for (const parent of this.getParents(key)) {\n          const calculated = this.calculateState(parent, this.nodes)\n          this.nodes[parent].isSelected = calculated.isSelected\n          this.nodes[parent].isIndeterminate = calculated.isIndeterminate\n          changed.set(parent, calculated.isSelected)\n        }\n      } else {\n        this.nodes[key].isSelected = isSelected\n        this.nodes[key].isIndeterminate = false\n        changed.set(key, isSelected)\n      }\n\n      for (const [key, value] of changed.entries()) {\n        this.updateVnodeState(key)\n\n        if (this.selectionType === 'leaf' && this.isParent(key)) continue\n\n        value === true ? this.selectedCache.add(key) : this.selectedCache.delete(key)\n      }\n    },\n    updateOpen (key: string | number, isOpen: boolean) {\n      if (!this.nodes.hasOwnProperty(key)) return\n\n      const node = this.nodes[key]\n      const children = getObjectValueByPath(node.item, this.itemChildren)\n\n      if (children && !children.length && node.vnode && !node.vnode.hasLoaded) {\n        node.vnode.checkChildren().then(() => this.updateOpen(key, isOpen))\n      } else if (children && children.length) {\n        node.isOpen = isOpen\n\n        node.isOpen ? this.openCache.add(key) : this.openCache.delete(key)\n\n        this.updateVnodeState(key)\n      }\n    },\n    updateVnodeState (key: string | number) {\n      const node = this.nodes[key]\n\n      if (node && node.vnode) {\n        node.vnode.isSelected = node.isSelected\n        node.vnode.isIndeterminate = node.isIndeterminate\n        node.vnode.isActive = node.isActive\n        node.vnode.isOpen = node.isOpen\n      }\n    },\n    isExcluded (key: string | number) {\n      return !!this.search && this.excludedItems.has(key)\n    },\n  },\n\n  render (h): VNode {\n    const children: VNodeChildrenArrayContents = this.items.length\n      ? this.items.filter(item => {\n        return !this.isExcluded(getObjectValueByPath(item, this.itemKey))\n      }).map(item => {\n        const genChild = VTreeviewNode.options.methods.genChild.bind(this)\n\n        return genChild(item, this.disabled || getObjectValueByPath(item, this.itemDisabled))\n      })\n      /* istanbul ignore next */\n      : this.$slots.default! // TODO: remove type annotation with TS 3.2\n\n    return h('div', {\n      staticClass: 'v-treeview',\n      class: {\n        'v-treeview--hoverable': this.hoverable,\n        'v-treeview--dense': this.dense,\n        ...this.themeClasses,\n      },\n    }, children)\n  },\n})\n"],"sourceRoot":""}]}